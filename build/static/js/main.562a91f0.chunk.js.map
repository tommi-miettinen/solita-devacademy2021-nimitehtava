{"version":3,"sources":["App.tsx","index.tsx"],"names":["App","useState","names","data","setData","searchInput","setSearchInput","sortBy","setSortBy","useEffect","fetchData","arr","a","axios","get","result","console","log","filterByName","filter","el","name","toLowerCase","includes","sort","b","amount","sortByAlphabet","className","style","margin","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","display","alignItems","marginLeft","TextField","minWidth","placeholder","value","onChange","e","target","Select","MenuItem","reduce","total","item","TableBody","map","row","colSpan","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sUAgIeA,G,MAjHH,WAAO,IAAD,EACQC,mBAA4B,CAAEC,MAAO,KAD7C,mBACTC,EADS,KACHC,EADG,OAEsBH,mBAAiB,IAFvC,mBAETI,EAFS,KAEIC,EAFJ,OAGYL,mBAAiB,cAH7B,mBAGTM,EAHS,KAGDC,EAHC,KAUhBC,qBAAU,WACRC,MACC,IAEH,IAS8BC,EATxBD,EAAS,uCAAG,4BAAAE,EAAA,+EAEOC,IAAMC,IAAI,UAFjB,OAERC,EAFQ,OAGdX,EAAQW,EAAOZ,MAHD,gDAKda,QAAQC,IAAR,MALc,yDAAH,qDAaTC,EAAe,SAACP,GACpB,OAAOA,EAAIQ,QAAO,SAACC,GAAD,OAChBA,EAAGC,KAAKC,cAAcC,SAASlB,EAAYiB,mBAmBzCpB,EAPO,WAAO,IAJMS,EAKhBT,EAAUC,EAAVD,MACR,MAAe,eAAXK,GANoBI,EAM6BO,EAAahB,GAL3D,YAAIS,GAAKa,MAAK,SAACZ,EAAGa,GAAJ,OAAUA,EAAEC,OAASd,EAAEc,WAM7B,aAAXnB,EAXiB,SAACI,GACtB,OAAO,YAAIA,GAAKa,MAAK,SAACZ,EAAGa,GAAJ,OAAWb,EAAES,KAAOI,EAAEJ,KAAO,GAAK,KAUrBM,CAAeT,EAAahB,IACvDgB,EAAahB,GAGRsB,GAEd,OACE,qBAAKI,UAAU,YAAYC,MAAO,CAAEC,OAAQ,aAA5C,SACE,cAACC,EAAA,EAAD,CAAgBC,UAAWC,IAA3B,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAWC,MAAM,OAAjB,mBACA,cAACD,EAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,sBAAKT,MAAO,CAAEU,QAAS,OAAQC,WAAY,UAA3C,UACE,qBACEZ,UAAU,YACVC,MAAO,CACLY,WAAY,OACZD,WAAY,UAJhB,6BASA,cAACE,EAAA,EAAD,CACEb,MAAO,CAAEc,SAAU,QACnBC,YAAY,SACZC,MAAOxC,EACPyC,SAAU,SAACC,GAAD,OAAYzC,EAAeyC,EAAEC,OAAOH,eAIpD,cAACR,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,sBAAKT,MAAO,CAAEU,QAAS,OAAQC,WAAY,UAA3C,UACE,qBAAKZ,UAAU,YAAYC,MAAO,CAAEY,WAAY,QAAhD,6BAGA,8BACE,eAACQ,EAAA,EAAD,CACEJ,MAAOtC,EACPuC,SAAU,SAACC,GAAD,OAAYvC,EAAUuC,EAAEC,OAAOH,QAF3C,UAIE,cAACK,EAAA,EAAD,CAAUL,MAAM,aAAhB,0BACA,cAACK,EAAA,EAAD,CAAUL,MAAM,WAAhB,oCAKR,eAACR,EAAA,EAAD,CAAWC,MAAM,QAAjB,sCArEkB3B,EAsEqBT,EArE1CS,EAAIwC,QAAO,SAACC,EAAOC,GAAR,OAAiBA,EAAK3B,OAAS0B,IAAO,IAoE9C,YAKJ,cAACE,EAAA,EAAD,UACGpD,EAAMqD,KAAI,SAACC,GAAD,OACT,eAACpB,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UAAYmB,EAAInC,OAChB,cAACgB,EAAA,EAAD,CAAWoB,QAAS,EAAGnB,MAAM,QAA7B,SACGkB,EAAI9B,WAHM8B,EAAInC,oBC9GjCqC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.562a91f0.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [data, setData] = useState<{ names: Name[] }>({ names: [] });\r\n  const [searchInput, setSearchInput] = useState<string>(\"\");\r\n  const [sortBy, setSortBy] = useState<string>(\"popularity\");\r\n\r\n  interface Name {\r\n    amount: number;\r\n    name: string;\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const result = await axios.get(\"/names\");\r\n      setData(result.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const calculateTotalAmount = (arr: Name[]) => {\r\n    return arr.reduce((total, item) => item.amount + total, 0);\r\n  };\r\n\r\n  const filterByName = (arr: Name[]) => {\r\n    return arr.filter((el) =>\r\n      el.name.toLowerCase().includes(searchInput.toLowerCase())\r\n    );\r\n  };\r\n\r\n  const sortByAlphabet = (arr: Name[]) => {\r\n    return [...arr].sort((a, b) => (a.name > b.name ? 1 : -1));\r\n  };\r\n\r\n  const sortByPopularity = (arr: Name[]) => {\r\n    return [...arr].sort((a, b) => b.amount - a.amount);\r\n  };\r\n\r\n  const sort = () => {\r\n    const { names } = data;\r\n    if (sortBy === \"popularity\") return sortByPopularity(filterByName(names));\r\n    if (sortBy === \"alphabet\") return sortByAlphabet(filterByName(names));\r\n    return filterByName(names);\r\n  };\r\n\r\n  const names = sort();\r\n\r\n  return (\r\n    <div className=\"container\" style={{ margin: \"30px auto\" }}>\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"left\">Nimet</TableCell>\r\n              <TableCell align=\"center\">\r\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                  <div\r\n                    className=\"tablehead\"\r\n                    style={{\r\n                      marginLeft: \"auto\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    Hae nimellä:\r\n                  </div>\r\n                  <TextField\r\n                    style={{ minWidth: \"80px\" }}\r\n                    placeholder=\"Hae...\"\r\n                    value={searchInput}\r\n                    onChange={(e: any) => setSearchInput(e.target.value)}\r\n                  ></TextField>\r\n                </div>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                  <div className=\"tablehead\" style={{ marginLeft: \"auto\" }}>\r\n                    Järjestä:\r\n                  </div>\r\n                  <div>\r\n                    <Select\r\n                      value={sortBy}\r\n                      onChange={(e: any) => setSortBy(e.target.value)}\r\n                    >\r\n                      <MenuItem value=\"popularity\">Suosituimmat</MenuItem>\r\n                      <MenuItem value=\"alphabet\">Nimen mukaan</MenuItem>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                Nimien määrä: ({calculateTotalAmount(names)})\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {names.map((row) => (\r\n              <TableRow key={row.name}>\r\n                <TableCell>{row.name}</TableCell>\r\n                <TableCell colSpan={3} align=\"right\">\r\n                  {row.amount}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\") as HTMLElement\r\n);\r\n"],"sourceRoot":""}